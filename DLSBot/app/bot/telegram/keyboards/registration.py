"""
ĞšĞ»Ğ°Ğ²Ğ¸Ğ°Ñ‚ÑƒÑ€Ñ‹ Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑĞ° Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ğ¸
"""

from typing import List, Dict, Any
from aiogram.types import InlineKeyboardMarkup, ReplyKeyboardMarkup, KeyboardButton
from app.bot.telegram.keyboards.builders import (
    InlineKeyboardBuilder,
    ReplyKeyboardBuilder,
)
from app.organization.models import Company, Department, JobTitle


def get_registration_confirmation_keyboard() -> InlineKeyboardMarkup:
    """
    Ğ¡Ğ¾Ğ·Ğ´Ğ°ĞµÑ‚ ĞºĞ»Ğ°Ğ²Ğ¸Ğ°Ñ‚ÑƒÑ€Ñƒ Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ñ Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ğ¸
    """
    buttons = [
        [("âœ… ĞŸĞ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ´Ğ¸Ñ‚ÑŒ", "registration:confirm")],
        [("ğŸ”„ Ğ˜Ğ·Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ", "registration:edit")],
    ]
    return InlineKeyboardBuilder.create_inline_kb(buttons)


def get_phone_keyboard() -> ReplyKeyboardMarkup:
    """
    Ğ¡Ğ¾Ğ·Ğ´Ğ°ĞµÑ‚ ĞºĞ»Ğ°Ğ²Ğ¸Ğ°Ñ‚ÑƒÑ€Ñƒ Ñ ĞºĞ½Ğ¾Ğ¿ĞºĞ¾Ğ¹ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ¸ Ğ½Ğ¾Ğ¼ĞµÑ€Ğ° Ñ‚ĞµĞ»ĞµÑ„Ğ¾Ğ½Ğ°
    """
    keyboard = ReplyKeyboardMarkup(
        keyboard=[
            [KeyboardButton(text="ğŸ“± ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ½Ğ¾Ğ¼ĞµÑ€ Ñ‚ĞµĞ»ĞµÑ„Ğ¾Ğ½Ğ°", request_contact=True)]
        ],
        resize_keyboard=True,
        one_time_keyboard=True,
    )
    return keyboard


def get_companies_keyboard(companies: List[Company]) -> InlineKeyboardMarkup:
    """
    Ğ¡Ğ¾Ğ·Ğ´Ğ°ĞµÑ‚ ĞºĞ»Ğ°Ğ²Ğ¸Ğ°Ñ‚ÑƒÑ€Ñƒ Ğ´Ğ»Ñ Ğ²Ñ‹Ğ±Ğ¾Ñ€Ğ° ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸

    :param companies: Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¹
    :return: ĞšĞ»Ğ°Ğ²Ğ¸Ğ°Ñ‚ÑƒÑ€Ğ° Ñ ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸ÑĞ¼Ğ¸
    """
    buttons = []
    for company in companies:
        buttons.append([(company.name, f"registration:company:{company.id}")])

    return InlineKeyboardBuilder.create_inline_kb(buttons)


def get_departments_keyboard(departments: List[Department]) -> InlineKeyboardMarkup:
    """
    Ğ¡Ğ¾Ğ·Ğ´Ğ°ĞµÑ‚ ĞºĞ»Ğ°Ğ²Ğ¸Ğ°Ñ‚ÑƒÑ€Ñƒ Ğ´Ğ»Ñ Ğ²Ñ‹Ğ±Ğ¾Ñ€Ğ° Ğ´ĞµĞ¿Ğ°Ñ€Ñ‚Ğ°Ğ¼ĞµĞ½Ñ‚Ğ°

    :param departments: Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ´ĞµĞ¿Ğ°Ñ€Ñ‚Ğ°Ğ¼ĞµĞ½Ñ‚Ğ¾Ğ²
    :return: ĞšĞ»Ğ°Ğ²Ğ¸Ğ°Ñ‚ÑƒÑ€Ğ° Ñ Ğ´ĞµĞ¿Ğ°Ñ€Ñ‚Ğ°Ğ¼ĞµĞ½Ñ‚Ğ°Ğ¼Ğ¸
    """
    buttons = []
    for department in departments:
        buttons.append([(department.name, f"registration:department:{department.id}")])

    return InlineKeyboardBuilder.create_inline_kb(buttons)


def get_job_titles_keyboard(job_titles: List[JobTitle]) -> InlineKeyboardMarkup:
    """
    Ğ¡Ğ¾Ğ·Ğ´Ğ°ĞµÑ‚ ĞºĞ»Ğ°Ğ²Ğ¸Ğ°Ñ‚ÑƒÑ€Ñƒ Ğ´Ğ»Ñ Ğ²Ñ‹Ğ±Ğ¾Ñ€Ğ° Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸

    :param job_titles: Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ¾ÑÑ‚ĞµĞ¹
    :return: ĞšĞ»Ğ°Ğ²Ğ¸Ğ°Ñ‚ÑƒÑ€Ğ° Ñ Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ¾ÑÑ‚ÑĞ¼Ğ¸
    """
    buttons = []
    for job_title in job_titles:
        buttons.append([(job_title.name, f"registration:job_title:{job_title.id}")])

    return InlineKeyboardBuilder.create_inline_kb(buttons)


def get_registration_edit_keyboard() -> InlineKeyboardMarkup:
    """
    Ğ¡Ğ¾Ğ·Ğ´Ğ°ĞµÑ‚ ĞºĞ»Ğ°Ğ²Ğ¸Ğ°Ñ‚ÑƒÑ€Ñƒ Ğ´Ğ»Ñ Ñ€ĞµĞ´Ğ°ĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ğ¸
    """
    buttons = [
        [("ğŸ“± Ğ¢ĞµĞ»ĞµÑ„Ğ¾Ğ½", "registration:edit_phone")],
        [("ğŸ‘¤ Ğ¤Ğ˜Ğ", "registration:edit_name")],
        [("ğŸ“§ Email", "registration:edit_email")],
        [("ğŸ‚ Ğ”Ğ°Ñ‚Ğ° Ñ€Ğ¾Ğ¶Ğ´ĞµĞ½Ğ¸Ñ", "registration:edit_birth_date")],
        [("ğŸ¢ ĞšĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ñ", "registration:edit_company")],
        [("ğŸ›ï¸ Ğ”ĞµĞ¿Ğ°Ñ€Ñ‚Ğ°Ğ¼ĞµĞ½Ñ‚", "registration:edit_department")],
        [("ğŸ‘” Ğ”Ğ¾Ğ»Ğ¶Ğ½Ğ¾ÑÑ‚ÑŒ", "registration:edit_job_title")],
        [("âœ… Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ğ¾", "registration:confirm")],
    ]
    return InlineKeyboardBuilder.create_inline_kb(buttons)
